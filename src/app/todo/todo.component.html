<div class="app-container">
    <h1 class="app-heading">TODO-APP</h1>

    <div class="top-controls">
        <div class="add-task-container">
            <input type="text" [(ngModel)]="newTask" placeholder="Add a new task" (keyup.enter)="addTask()" />
            <button (click)="addTask()">Add Task</button>
        </div>
        <input type="text" placeholder="Search Tasks" [(ngModel)]="searchText" class="search-input">
    </div>

    <div class="lists-container">
        <!-- all tasks -->
        <div class="list-section">
            <h2>Pending</h2>
            <ul>
                <li *ngFor="let task of pendingTasks()">
                    <input type="checkbox" [checked]="task.completed" (change)="toggleCompletion(task.id)" />
                    <span *ngIf="editId !== task.id" class="title">{{ task.title }}</span>
                    <span *ngIf="editId === task.id" class="edit">
                        <input [(ngModel)]="editText" />
                        <button (click)="saveEdit()">Save</button>
                        <button (click)="cancelEdit()">Cancel</button>
                    </span>
                    <div class="actions" *ngIf="editId !== task.id">
                        <button (click)="startEdit(task)">Edit</button>
                        <button (click)="deleteTask(task.id)">Delete</button>
                    </div>
                </li>
            </ul>
        </div>
        <!-- Completed Tasks -->
        <div class="list-section">
            <h2>Completed</h2>
            <ul>
                <li *ngFor="let task of completedTasks()" class="completed">
                    <input type="checkbox" [checked]="task.completed" (change)="toggleCompletion(task.id)" />
                    <span *ngIf="editId !== task.id" class="title">{{ task.title }}</span>
                    <span *ngIf="editId === task.id" class="edit">
                        <input [(ngModel)]="editText" (keyup.enter)="saveEdit()" />
                        <button (click)="saveEdit()">Save</button>
                        <button (click)="cancelEdit()">Cancel</button>
                    </span>
                    <div class="actions" *ngIf="editId !== task.id">
                        <button (click)="startEdit(task)">Edit</button>
                        <button (click)="deleteTask(task.id)">Delete</button>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>